# SM_China 土壤水模拟配置文件
# 基于 SM_J1193.csv 观测数据

data:
  # 数据文件路径（相对于此配置文件）
  file: "SM_J1193.csv"
  # 时间列索引（1-based）
  time_col: 1
  # 观测数据起始列（1-based），时间列之后
  obs_start_col: 2
  # 原始观测深度（cm）
  depths_cm: [10, 20, 30, 40, 50, 60, 80, 100]
  # 插值后的深度（cm），用于模拟
  target_depths_cm: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
  # 数据缩放因子（原始数据为百分比，需要除以100）
  scale_factor: 0.01

model:
  # 土壤类型
  soil_type: 7
  # 是否各层使用相同参数
  same_layer: false
  # 土壤持水曲线方法
  method_retention: "van_Genuchten"
  # 求解方法: "Bonan" | "ODE"
  method_solve: "Bonan"
  # 时间步长（秒）
  dt: 3600.0
  # 模拟起始层（1-based）
  # ibeg=4 表示：第1层(5cm虚拟层), 第2层(10cm)作为输入, 第3层(20cm)开始模拟
  ibeg: 4
  # 土壤层厚度设置（cm）
  layer_thickness_cm: [5.0, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
  # 表层输入数据对应的深度索引（在 target_depths_cm 中的位置）
  surface_depth_index: 2  # 10cm 作为表层输入

optimization:
  # 是否启用优化
  enable: true
  # 最大迭代次数
  maxn: 1000
  # 目标函数: "NSE" | "KGE"
  objective: "NSE"

output:
  # 优化结果保存路径
  theta_file: "theta"
  # 是否保存图表
  save_plot: true
